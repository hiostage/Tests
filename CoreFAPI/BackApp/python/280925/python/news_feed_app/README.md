**–ü–æ–º–µ—á–∞–µ–º app –∫–∞–∫ Sources root**

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

## –ó–∞–ø—É—Å–∫ docker image

```shell
docker build -t your_image_name .
docker run \
  --network=host \
  --env-file .env \
  --name your_container_name \
  your_tag
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è poetry.
–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–¥–µ–ª–µ–Ω—ã –Ω–∞ –≥—Ä—É–ø–ø—ã _**main, test, dev**_.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ –≥—Ä—É–ø–ø—ã main:
```sh
  poetry install
```

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–º–µ—Å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö –≥—Ä—É–ø–ø:
```sh
  poetry install --with test
```
–¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (test,dev –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞)
```sh
  poetry install --with test,dev
```
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –≥—Ä—É–ø–ø—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```sh
  poetry install --only dev
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –≥—Ä—É–ø–ø—É main:
```sh
  poetry add {package_name}
```

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```sh
  poetry add {package_name} --group test 
```
–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```sh
  poetry add {package_name} --dev 
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏–∑ –≥—Ä—É–ø–ø—ã main:
```sh
  poetry remove {package_name}
```

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```sh
  poetry remove {package_name} --group test 
```
–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```sh
 poetry remove {package_name} --dev
```

# üêá RabbitMQ: 

## –í–Ω–µ—à–Ω–∏–µ –∑–∞–¥–∞—á–∏:

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ–± **—É–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (`@username`) –≤ RabbitMQ ‚Äî –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

### üì¶ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å **news_feed** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "type": "mentioning_users",
  "type_mention": "post",
  "event_mention": "create",
  "usernames": ["username1", "username2"],
  "post_id": 1,
  "comment_id": null
}
```

- type: —Ç–∏–ø –∑–∞–¥–∞—á–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - `mentioning_users` —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- type_mention: post –∏–ª–∏ comment
- event_mention: create, update –∏–ª–∏ delete
- usernames: —Å–ø–∏—Å–æ–∫ –∏–º—ë–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ @
- post_id: ID –ø–æ—Å—Ç–∞
- comment_id: ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, –µ—Å–ª–∏ type_mention = comment

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–∏ update –∑–∞–¥–∞—á–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ —Å usernames: [—Ç—É—Ç –ø—É—Å—Ç–æ]. 
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤–¥—Ä—É–≥ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ —Ä–∞–Ω—å—à–µ, –∞ —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–∏–ª–∏ –±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–∞—Ö:

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ –Ω–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å–∫–∞—Ö –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.

### üì¶ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å **news_feed** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "type": "new_subscriber",
  "author_id": "3d6f0a49-bf6b-4f6a-bf9c-842b42e4f462",
  "subscriber_id": "84d02b3c-e7cf-4a97-a7f2-534bbf9ef24e"
}
```

- type: —Ç–∏–ø –∑–∞–¥–∞—á–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - `new_subscriber` –Ω–æ–≤—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫)
- author_id: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- subscriber_id: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å–∞–ª—Å—è

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø–æ–¥ –ø–æ—Å—Ç–æ–º:

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø–æ–¥ –ø–æ—Å—Ç–æ–º –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.

### üì¶ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å **news_feed** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "type": "new_comment",
  "author_id": "3d6f0a49-bf6b-4f6a-bf9c-842b42e4f462",
  "user_id": "84d02b3c-e7cf-4a97-a7f2-534bbf9ef24e",
  "post_id": 1,
  "comment_id": 3
}
```

- type: —Ç–∏–ø –∑–∞–¥–∞—á–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - `new_comment` –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
- author_id: ID –∞–≤—Ç–æ—Ä–∞ –ø–æ—Å—Ç–∞
- user_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –æ—Å—Ç–∞–≤–∏–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- post_id: ID –ø–æ—Å—Ç–∞, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –±—ã–ª –æ—Å—Ç–∞–≤–ª–µ–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- comment_id: ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–∞—Ö:

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–∞—Ö –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.

### üì¶ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å **news_feed** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "type": "new_post",
  "post_id": 3,
  "author_id": "84d02b3c-e7cf-4a97-a7f2-534bbf9ef24e",
  "subscribers_ids": ["aa04931c-f4cf-4c4c-ab5a-8195fc7892b5", "ec3e547b-a5b0-4708-b784-96d13e06c60d"]
}
```

- type: —Ç–∏–ø –∑–∞–¥–∞—á–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - `new_post` –Ω–æ–≤—ã–π –ø–æ—Å—Ç)
- post_id: ID –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞
- author_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª –ø–æ—Å—Ç
- subscribers_ids: –°–ø–∏—Å–æ–∫ –∏–∑ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –∞–≤—Ç–æ—Ä–∞ –ø–æ—Å—Ç–∞

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –ª–∞–π–∫–∞—Ö:

–°–µ—Ä–≤–∏—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ –Ω–æ–≤—ã—Ö –ª–∞–π–∫–∞—Ö –≤ –æ—á–µ—Ä–µ–¥—å RabbitMQ.

### üì¶ –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

–°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å **news_feed** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "type": "new_like",
  "type_object": "comment",
  "user_id": "84d02b3c-e7cf-4a97-a7f2-534bbf9ef24e",
  "post_id": 2,
  "author_id": "aa04931c-f4cf-4c4c-ab5a-8195fc7892b5",
  "comment_id": 33
}
```

- type: —Ç–∏–ø –∑–∞–¥–∞—á–∏ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - `new_like` –Ω–æ–≤—ã–π –ª–∞–π–∫)
- type_object: —Ç–∏–ø –ª–∞–π–∫–∞ ("post" –∏–ª–∏ "comment")
- user_id: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–∞–≤–∏–ª –ª–∞–π–∫
- post_id: ID –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –ª–∞–π–∫ (–∏–ª–∏ –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –µ—Å–ª–∏ —ç—Ç–æ –ª–∞–π–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è)
- author_id: ID –∞–≤—Ç–æ—Ä–∞ –ø–æ—Å—Ç–∞ –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- comment_id: ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, –µ—Å–ª–∏ —ç—Ç–æ –ª–∞–π–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, –∏–Ω–∞—á–µ None
