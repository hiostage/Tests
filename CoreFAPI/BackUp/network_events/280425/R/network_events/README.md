Сетевые мероприятия
Сервис для организации и управления сетевыми мероприятиями (онлайн и офлайн), регистрации участников, обмена контактами и отправки уведомлений. Сервис использует FastAPI, RabbitMQ для асинхронной коммуникации, Redis для кеширования, и PostgreSQL для хранения данных.

Структура проекта
app/: Основной код приложения.

api/: Маршруты API для обработки запросов.

db/: Логика работы с базой данных (PostgreSQL).

services/: Сервисы для бизнес-логики.

schemas/: Pydantic-схемы для валидации данных.

utils/: Вспомогательные функции, включая интеграцию с RabbitMQ.

docker/: Docker-контейнеры для развертывания приложения и зависимостей.

Установка
Клонируйте репозиторий:

bash
Копировать
Редактировать
git clone <url репозитория>
cd <папка с проектом>
Убедитесь, что у вас установлен Docker и Docker Compose.

Запустите сервис с помощью Docker Compose:

bash
Копировать
Редактировать
docker-compose up --build
Это создаст и запустит контейнеры для приложения, базы данных, Redis, RabbitMQ и мок-сервиса авторизации.

Развертывание
Для развертывания приложения в Docker вам нужно настроить следующие контейнеры:

app: основной контейнер с FastAPI.

mock_auth: мок-сервис для пользователей.

db: контейнер с PostgreSQL.

redis: контейнер с Redis.

rabbitmq: контейнер с RabbitMQ для очередей сообщений.

Настройка среды
Создайте файл .env в корневой директории проекта и добавьте следующие переменные окружения:

env
Копировать
Редактировать
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
DATABASE_URL=postgresql+asyncpg://user:password@db/events_db
REDIS_URL=redis://redis:6379/0
Основные маршруты API
1. Создание события (POST /events/)
Создает новое сетевое событие.

Пример запроса:
json
Копировать
Редактировать
{
  "title": "Сетевое мероприятие 2025",
  "description": "Мероприятие для общения и нетворкинга.",
  "date": "2025-05-01T10:00:00Z"
}
Пример ответа:
json
Копировать
Редактировать
{
  "event_id": 1,
  "title": "Сетевое мероприятие 2025",
  "description": "Мероприятие для общения и нетворкинга.",
  "date": "2025-05-01T10:00:00Z"
}
2. Получение события (GET /events/{event_id})
Получение информации о событии по ID.

Пример ответа:
json
Копировать
Редактировать
{
  "event_id": 1,
  "title": "Сетевое мероприятие 2025",
  "description": "Мероприятие для общения и нетворкинга.",
  "date": "2025-05-01T10:00:00Z"
}
3. Список всех событий (GET /events/)
Получение списка всех сетевых событий.

Пример ответа:
json
Копировать
Редактировать
[
  {
    "event_id": 1,
    "title": "Сетевое мероприятие 2025",
    "description": "Мероприятие для общения и нетворкинга.",
    "date": "2025-05-01T10:00:00Z"
  },
  {
    "event_id": 2,
    "title": "Мероприятие по Python",
    "description": "Мастер-класс по программированию.",
    "date": "2025-05-10T10:00:00Z"
  }
]
4. Удаление события (DELETE /events/{event_id})
Удаление события по ID.

Пример ответа:
json
Копировать
Редактировать
{
  "event_id": 1,
  "title": "Сетевое мероприятие 2025",
  "description": "Мероприятие для общения и нетворкинга.",
  "date": "2025-05-01T10:00:00Z"
}
5. Регистрация на мероприятие (POST /events/{event_id}/register)
Регистрация пользователя на событие.

Пример запроса:
json
Копировать
Редактировать
{
  "event_id": 1
}
Пример ответа:
json
Копировать
Редактировать
{
  "event_id": 1,
  "user_id": 123,
  "status": "registered"
}
Интеграция с RabbitMQ
При создании и удалении событий отправляются сообщения в очередь RabbitMQ. Используется механизм publisher/consumer:

При создании события публикуется сообщение в очередь event_creation.

При регистрации пользователя на событие или удалении события отправляется сообщение в очередь event_participants.

Тестирование
Для тестирования API можно использовать встроенный интерфейс Swagger, доступный по адресу:

bash
Копировать
Редактировать
http://localhost:8000/docs
Также доступна версия документации через ReDoc по адресу:

bash
Копировать
Редактировать
http://localhost:8000/redoc
Логирование и мониторинг
Для мониторинга RabbitMQ и отслеживания очередей можно использовать веб-интерфейс RabbitMQ Management, доступный по адресу:

arduino
Копировать
Редактировать
http://localhost:15672
Логин и пароль по умолчанию: guest / guest.